(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{22:function(e,t,a){e.exports=a(52)},28:function(e,t,a){},29:function(e,t,a){},51:function(e){e.exports=JSON.parse('{"key":"349f24454c8e9e8e8d427a41131e7a49"}')},52:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),l=a(19),m=a.n(l),s=(a(27),a(28),a(29),a(9)),i=a.n(s),o=a(20),d=a(3),u=a(4),p=a(6),f=a(5),h=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={},e.renderCurrent=function(){var t=e.props,a=t.cityName,r=t.timestamp,n=t.current,l=n.IM,m=n.ME,s=n.sunset,i=n.sunrise,o="http://openweathermap.org/img/w/".concat(l.icon,".png");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex flex-column align-items-center card-header"},c.a.createElement("h1",{className:"card-title text-left"},a),c.a.createElement("h5",{style:{margin:"2%"}},r),c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("img",{src:o,className:"img-fluid",alt:"Responsive"}),c.a.createElement("h2",{className:"card-text text-left"},l.description)),c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement("h1",{className:"card-text text-left"},l.temp),c.a.createElement("p",{className:"card-text text-left"},"\u02daF"),c.a.createElement("h1",{className:"card-text text-left"}," / ",m.temp),c.a.createElement("p",{className:"card-text text-left"},"\u02daC"))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4 py-1 my-1 px-0 mx-0 text-center"},c.a.createElement("h4",{className:"card-text"},"Feels like"),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},c.a.createElement("h4",null,l.feels_like),c.a.createElement("p",{className:"card-text"},"\u02daF"),c.a.createElement("h4",null,"/ ",m.feels_like),c.a.createElement("p",{className:"card-text"},"\u02daC"))),c.a.createElement("div",{className:"col-4 py-1 my-1 px-0 mx-0 text-center"}," ",c.a.createElement("h4",{className:"card-text"},"Humidity"),c.a.createElement("h4",{className:"card-text"},l.humidity,"%")),c.a.createElement("div",{className:"col-4 py-1 my-1 px-0 mx-0 text-center"},c.a.createElement("h4",{className:"card-text"},"Wind"),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},c.a.createElement("h4",{className:"card-text text-left"},l.wind_speed),c.a.createElement("p",{className:"card-text text-left"},"mph"),c.a.createElement("h4",{className:"card-text text-left"},"/ ",m.wind_speed),c.a.createElement("p",{className:"card-text text-left"},"kmh")))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col sm-6 text-right"},c.a.createElement("h4",{className:"card-text"},"Sunrise: ",i)),c.a.createElement("div",{className:"col sm-6 text-left"},c.a.createElement("h4",{className:"card-text"},"Sunset: ",s)))))},e}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.renderCurrent())}}]),a}(n.Component),E=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={},e.renderHourly=function(){var t=e.props,a=t.IM,r=t.ME;console.log(e.props);for(var n=[],l="",m=0;m<a.length;m++)l="http://openweathermap.org/img/w/".concat(a[m].icon,".png"),n.push(c.a.createElement("div",{className:"py-1 my-1 px-1 mx-1"},c.a.createElement("h6",{className:"py-0 my-0"},a[m].time),c.a.createElement("div",{className:"weather-icon py-0 my-0"},c.a.createElement("img",{src:l,className:"img-fluid",alt:"Responsive"})),c.a.createElement("h6",{className:"py-0 my-0"},a[m].temp,"\u02daF"),c.a.createElement("h6",{className:"py-0 my-0"},r[m].temp,"\u02daC")));return c.a.createElement("div",{className:"scrollmenu"},n)},e}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.renderHourly())}}]),a}(n.Component),x=a(2),N=a.n(x),y=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,l=new Array(n),m=0;m<n;m++)l[m]=arguments[m];return(e=t.call.apply(t,[this].concat(l))).state={},e.renderCurrent=function(){var t=e.props,r=t.cityName,n=t.timestamp,l=t.current_IM,m=t.current_ME,s=l.timezone_offset,i=a(8);N.a.extend(i);var o=N.a.utc(1e3*(l.sunrise+s)).format("h:mma"),d=N.a.utc(1e3*(l.sunset+s)).format("h:mma"),u="http://openweathermap.org/img/w/".concat(l.weather[0].icon,".png");return c.a.createElement("div",{className:"card bg-primary container",style:{margin:"2%"}},c.a.createElement("div",{className:"d-flex flex-column align-items-center card-header"},c.a.createElement("h5",{style:{margin:"2%"}},n),c.a.createElement("h1",{className:"card-title text-left"},r),c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("img",{src:u,className:"img-fluid",alt:"Responsive"}),c.a.createElement("h2",{className:"card-text text-left"},l.weather[0].description)),c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement("h1",{className:"card-text text-left"},l.temp),c.a.createElement("p",{className:"card-text text-left"},"\u02daF"),c.a.createElement("h1",{className:"card-text text-left"}," / ",m.temp),c.a.createElement("p",{className:"card-text text-left"},"\u02daC"))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6 text-right"},c.a.createElement("h4",{className:"card-text"},"Feels like")),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement("h4",null,l.feels_like),c.a.createElement("p",{className:"card-text"},"\u02daF"),c.a.createElement("h4",null,"/ ",m.feels_like),c.a.createElement("p",{className:"card-text"},"\u02daC")))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6 text-right"}," ",c.a.createElement("h4",{className:"card-text"},"Humidity")),c.a.createElement("div",{className:"col-6"}," ",c.a.createElement("h4",{className:"card-text"},l.humidity,"%"))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6 text-right"},c.a.createElement("h4",{className:"card-text"},"Wind")),c.a.createElement("div",{className:"col-6"}," ",c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement("h4",{className:"card-text text-left"},l.wind_speed),c.a.createElement("p",{className:"card-text text-left"},"mph"),c.a.createElement("h4",{className:"card-text text-left"},"/ ",m.wind_speed),c.a.createElement("p",{className:"card-text text-left"},"kmh"))))),c.a.createElement("div",{className:"card-footer row"},c.a.createElement("div",{className:"col sm-6 text-right"},c.a.createElement("h5",{className:"card-text"},"Low"),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-end"},c.a.createElement("h5",null,l.temp_min),c.a.createElement("p",{className:"card-text"},"\u02daF"),c.a.createElement("h5",null,"/ ",m.temp_min),c.a.createElement("p",{className:"card-text"},"\u02daC"))),c.a.createElement("div",{className:"col sm-6 text-left"},c.a.createElement("h5",{className:"card-text text-left"},"High"),c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement("h5",null,l.temp_max),c.a.createElement("p",{className:"card-text text-left"},"\u02daF"),c.a.createElement("h5",null,"/ ",m.temp_max),c.a.createElement("p",{className:"card-text text-left"},"\u02daC")))),c.a.createElement("div",{className:"card-footer row"},c.a.createElement("div",{className:"col sm-6 text-right"},c.a.createElement("h4",{className:"card-text"},"Sunrise: ",o)),c.a.createElement("div",{className:"col sm-6 text-left"},c.a.createElement("h4",{className:"card-text"},"Sunset: ",d))))},e}return Object(u.a)(r,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.renderCurrent())}}]),r}(n.Component),v=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"d-flex flex-row container justify-content-around"},c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.props.getData("New York",{lon:-74.01,lat:40.71})},style:{margin:"2%"}},"New York"),c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.props.getData("Portland",{lon:-122.68,lat:45.52})},style:{margin:"2%"}},"Portland"),c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.props.getData("Tokyo",{lon:139.69,lat:35.69})},style:{margin:"2%"}},"Tokyo"))}}]),a}(n.Component),g=a(21),w=a.n(g),M=a(7),b=a.n(M),_=a(8);function k(e,t){for(var a=[],n=[],c=0;c<e.length;c++){var l={};l.time=N.a.utc(1e3*(e[c].dt+r)).format("M/D ha"),l.date=N.a.utc(1e3*(e[c].dt+r)).format("M/D"),console.log(l.time),l.dt=e[c].dt,l.temp=Math.round(e[c].temp),l.icon=e[c].weather[0].icon,a.push(l)}for(var m=0;m<t.length;m++){var s={};s.dt=t[m].dt,s.temp=Math.round(t[m].temp),s.icon=t[m].weather[0].icon,n.push(s)}return{ME:n,IM:a}}function C(e,t){for(var a=[],r=[],n=0;n<e.length;n++){var c={};c.dt=e[n].dt,c.temp_max=Math.round(e[n].temp.max),c.temp_min=Math.round(e[n].temp.min),c.icon=e[n].weather[0].icon,c.uvi=Math.round(10*e[n].uvi)/10,a.push(c)}for(var l=0;l<t.length;l++){var m={};m.dt=t[l].dt,m.temp_max=Math.round(t[l].temp.max),m.temp_min=Math.round(t[l].temp.min),m.icon=t[l].weather[0].icon,m.uvi=Math.round(10*t[l].uvi)/10,r.push(m)}return{ME:r,IM:a}}function O(e,t){var n={},c={};r=e.timezone_offset,e=e.current,t=t.current,n.temp=Math.round(e.temp),n.feels_like=Math.round(e.feels_like),n.wind_speed=Math.round(10*e.wind_speed)/10,n.description=e.weather[0].description,n.icon=e.weather[0].icon,n.humidity=e.humidity,c.temp=Math.round(t.temp),c.feels_like=Math.round(t.feels_like),c.wind_speed=Math.round(10*t.wind_speed)/10;var l=a(8);return N.a.extend(l),{ME:c,IM:n,sunrise:N.a.utc(1e3*(e.sunrise+r)).format("h:mma"),sunset:N.a.utc(1e3*(e.sunset+r)).format("h:mma")}}N.a.extend(_);var j=a(48),D=a(51),I=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={timestamp:"",cityName:b.a.getJSON("defaultCity")||"",timezone_offset:0,current:{},hourly:{},daily_ME:[],daily_IM:[]},e.fetchWeatherData=function(e,t,a,r){var n={appid:D.key,units:t,lat:a,lon:r,exclude:"minutely"},c="https://api.openweathermap.org/data/2.5/onecall?".concat(j.stringify(n));return w.a.get(c)},e.getData=function(){var t=Object(o.a)(i.a.mark((function t(a,r){var n,c,l,m,s,o,d,u,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setDefaultCity(a),n=r.lat,c=r.lon,l=N()().format("MM-DD-YY h:mma"),t.next=6,e.fetchWeatherData(a,"metric",n,c);case 6:return m=t.sent,t.next=9,e.fetchWeatherData(a,"imperial",n,c);case 9:s=t.sent,m&&s&&(o=O(s.data,m.data),d=k(s.data.hourly,m.data.hourly),u=C(s.data.daily,m.data.daily),p="",p=b.a.getJSON("defaultCity")?b.a.getJSON("defaultCity"):a,e.setState({timestamp:l,cityName:p,current:o,hourly:d,daily:u}));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.setDefaultCity=function(e){b.a.set("defaultCity",JSON.stringify(e),{expires:24})},e.renderCurrent=function(){if(e.state.current.IM)return c.a.createElement(h,{cityName:e.state.cityName,current:e.state.current,timestamp:e.state.timestamp})},e.renderHourly=function(){if(e.state.hourly.IM)return c.a.createElement(E,{IM:e.state.hourly.IM,ME:e.state.hourly.ME})},e.renderDaily=function(){if(e.state.daily_IM.temp)return c.a.createElement(y,{daily_IM:e.state.daily_IM,daily_ME:e.state.daily_ME,timestamp:e.state.timestamp})},e.componentDidMount=function(){""===e.state.cityName?e.getData("New York",{lon:-74.01,lat:40.71}):e.getData(e.state.cityName,{lon:-74.01,lat:40.71})},e}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-flex flex-column containter-fluid bg-info align-items-center"},c.a.createElement(v,{getData:this.getData}),c.a.createElement("div",{className:"card bg-primary container",style:{margin:"2%"}},this.renderCurrent(),this.renderHourly())))}}]),a}(n.Component);var F=function(){return c.a.createElement(I,null)};m.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.313c6dd0.chunk.js.map